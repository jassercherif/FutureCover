<template>
    <section class="step-wizard">
        <ul class="step-wizard-list">
            <li class="step-wizard-item">
                <span class="progress-count">1</span>
                <span class="progress-label">Initial Assessment</span>
            </li>
            <li class="step-wizard-item">
                <span class="progress-count">2</span>
                <span class="progress-label">Quote Preparation</span>
            </li>
            
            <li class="step-wizard-item current-item">
                <span class="progress-count">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1S9.6 1.84 9.18 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 
                                 2 0 002-2V5a2 2 0 00-2-2zM12 3c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 
                                 .45-1 1-1zm1 14H8v-2h5v2zm3-4H8v-2h8v2zm0-4H8V7h8v2z"/>
                      </svg>
                      
                      
                </span>
                
                <span class="progress-label">Quote Decision</span>
              </li>
              
            <li class="step-wizard-item ">
                <span class="progress-count">4</span>
                <span class="progress-label">Contract Generation</span>
            </li>
            <li class="step-wizard-item">
                <span class="progress-count">6</span>
                <span class="progress-label">Closed</span>
            </li>
        </ul>
    </section>

    <div class="prospecting-container">
        <div class="quote-image-wrapper">
            <img src={imageUrl} alt="Decision illustration" class="quote-image" />
        </div>
        <div class="prospecting-message">
            <p>
                Please review the prepared insurance quote and make a decision. You can either accept it to proceed or reject it with a reason.
            </p>

            <div class="decision-buttons">
                <button class="accept-button" onclick={handleAccept}>Accept Quote</button>
                <button class="reject-button" onclick={toggleReject}>Reject Quote</button>
            </div>

            <template if:true={showRejectReason}>
                <div class="reject-reason">
                    <label for="reason">Reason for Rejection:</label>
                    <textarea id="reason" onchange={handleReasonChange}></textarea>
                    <button class="submit-reason-button" onclick={submitRejection}>Submit</button>
                </div>
            </template>
        </div>
    </div>
</template>
