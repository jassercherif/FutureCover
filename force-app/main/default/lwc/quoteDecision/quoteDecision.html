<template>
    <section class="step-wizard">
        <ul class="step-wizard-list">
            <li class="step-wizard-item">
                <span class="progress-count">1</span>
                <span class="progress-label">Initial Assessment</span>
            </li>
            <li class="step-wizard-item">
                <span class="progress-count">2</span>
                <span class="progress-label">Quote Preparation</span>
            </li>
            
            <li class="step-wizard-item current-item">
                <span class="progress-count">
                    <span class="progress-count">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24" fill="currentColor">
                          <path d="M14 2H6c-1.1 0-2 .9-2 2v16a2 2 0 002 2h12c1.1 0 2-.9 2-2V8l-6-6zm1 7V3.5L18.5 9H15zM13 15v1.5h1a.5.5 0 110 1h-1a1.5 1.5 0 110-3h1a.5.5 0 000-1h-1v-1.5h1a.5.5 0 110 1H13v1h1a1.5 1.5 0 010 3h-1A1.5 1.5 0 0111.5 16H11a.5.5 0 010-1h.5a1.5 1.5 0 010-3H13a.5.5 0 110 1h-1V15h1z"/>
                        </svg>
                      </span>
                      
                </span>
                <span class="progress-label">Quote Decision</span>
            </li>
            <li class="step-wizard-item ">
                <span class="progress-count">4</span>
                <span class="progress-label">Contract Generation</span>
            </li>
            <li class="step-wizard-item">
                <span class="progress-count">6</span>
                <span class="progress-label">Closed</span>
            </li>
        </ul>
    </section>

    <div class="prospecting-container">
        <div class="quote-image-wrapper">
            <img src={imageUrl} alt="Decision illustration" class="quote-image" />
        </div>
        <div class="prospecting-message">
            <p>
                Please review the prepared insurance quote and make a decision. You can either accept it to proceed or reject it with a reason.
            </p>

            <div class="decision-buttons">
                <button class="accept-button" onclick={handleAccept}>Accept Quote</button>
                <button class="reject-button" onclick={toggleReject}>Reject Quote</button>
            </div>

            <template if:true={showRejectReason}>
                <div class="reject-reason">
                    <label for="reason">Reason for Rejection:</label>
                    <textarea id="reason" onchange={handleReasonChange}></textarea>
                    <button class="submit-reason-button" onclick={submitRejection}>Submit</button>
                </div>
            </template>
        </div>
    </div>
</template>
