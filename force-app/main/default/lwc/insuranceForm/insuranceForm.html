<template>
    <div class="form-background" >
        <div class="form-container">
            <template if:true={lead}>
                <div class="lead-form">
                    <div class="lead-card">
                       <!-- <h2 class="form-title">Lead Information Form</h2>-->

                        <!-- Vos Informations -->
                        <div class="form-section">
                            <h3 class="section-title">Your Information</h3>
                            <div class="form-row">
                                <lightning-input 
                                    label="First Name" 
                                    value={lead.firstName} 
                                    onchange={handleChange} 
                                    data-id="firstName" 
                                    required>
                                </lightning-input>
                                <lightning-input 
                                    label="Last Name" 
                                    value={lead.lastName} 
                                    onchange={handleChange} 
                                    data-id="lastName" 
                                    required>
                                </lightning-input>
                                <template if:true={errorMessages.firstName}>
                                    <p class="error-message">{errorMessages.firstName}</p>
                                </template>
                            </div>
                            <lightning-input 
                            label="Title" 
                            type="title" 
                            value={lead.title} 
                            onchange={handleChange} 
                            data-id="title" 
                            required>
                        </lightning-input>
                        <template if:true={errorMessages.title}>
                            <p class="error-message">{errorMessages.title}</p>
                        </template>
                            <div class="form-row">
                                <lightning-input 
                                label="Email" 
                                type="email" 
                                value={lead.email} 
                                onchange={handleChange} 
                                data-id="email" 
                                required>
                            </lightning-input>
                            <template if:true={errorMessages.email}>
                                <p class="error-message">{errorMessages.email}</p>
                            </template>
                                <lightning-input 
                                    label="Phone" 
                                    type="tel" 
                                    value={lead.phone} 
                                    onchange={handleChange} 
                                    data-id="phone">
                                </lightning-input>
                                <template if:true={errorMessages.phone}>
                                    <p class="error-message">{errorMessages.phone}</p>
                                </template>
                            </div>
                        </div>


                        <!-- Informations Entreprise -->
<div class="form-section">
    <h3 class="section-title">Company Details</h3>
    
    <lightning-input 
        label="Company" 
        value={lead.company} 
        onchange={handleChange} 
        data-id="company" 
        required>
    </lightning-input>
    <template if:true={errorMessages.company}>
        <p class="error-message">{errorMessages.company}</p>
    </template>

    <lightning-input 
        label="Number of Employees" 
        type="number" 
        value={lead.numEmployees} 
        onchange={handleChange} 
        data-id="numEmployees">
    </lightning-input>
    <template if:true={errorMessages.numEmployees}>
        <p class="error-message">{errorMessages.numEmployees}</p>
    </template>

    <lightning-input 
        label="Annual Revenue" 
        type="number" 
        value={lead.annualRevenue} 
        onchange={handleChange} 
        data-id="annualRevenue">
    </lightning-input>
    <template if:true={errorMessages.annualRevenue}>
        <p class="error-message">{errorMessages.annualRevenue}</p>
    </template>
    <lightning-input 
    label="Address" 
    type="text" 
    value={lead.address} 
    onchange={handleChange} 
    data-id="address">
</lightning-input>
<template if:true={errorMessages.address}>
    <p class="error-message">{errorMessages.address}</p>
</template>


    

   
</div>

                        <br/>
                        <!-- Informations Produit et Assurance -->
                        <div class="form-section">
                            <h3 class="section-title">Product & Insurance</h3>
                            <lightning-input 
                                label="Product of Interest" 
                                value={lead.productInterest} 
                                onchange={handleChange} 
                                data-id="productInterest">
                            </lightning-input>
                            <lightning-combobox 
                                label="Insurance Type" 
                                value={lead.insuranceType} 
                                options={insuranceOptions} 
                                onchange={handleChange} 
                                data-id="insuranceType"
                                required>
                            </lightning-combobox>
                            <template if:true={errorMessages.insuranceType}>
                                <p class="error-message">{errorMessages.insuranceType}</p>
                            </template>
                        </div>
                        <template if:true={error}>
                            <p class="error-message">{error}</p>
                        </template>

                        <!-- Bouton de soumission -->
                        <div class="submit-button">
                            <lightning-button 
                                variant="brand" 
                                label="Submit Lead" 
                                onclick={handleSubmit}>
                            </lightning-button>
                        </div>
                    </div>
                </div>
            </template>
        </div>
    </div>
</template>

